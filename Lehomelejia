<!DOCTYPE html><html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>阿辉小厨 外卖平台</title>
  <script>
    const menu = [
      { id: 1, name: "招牌咖喱鸡柳饭", price: 12.9 },
      { id: 2, name: "宫保鸡丁饭", price: 11.5 },
      { id: 3, name: "咸蛋炒虾饭", price: 14.0 },
      { id: 4, name: "酸甜鸡柳饭", price: 12.5 }
    ];let cart = [];

function renderMenu() {
  const menuDiv = document.getElementById("menu");
  menuDiv.innerHTML = "";
  menu.forEach(item => {
    menuDiv.innerHTML += `
      <div style="margin-bottom: 1em;">
        <strong>${item.name}</strong><br>
        RM ${item.price.toFixed(2)}
        <button onclick="addToCart(${item.id})">加入购物车</button>
      </div>
    `;
  });
}

function addToCart(id) {
  const item = menu.find(i => i.id === id);
  const exist = cart.find(i => i.id === id);
  if (exist) {
    exist.qty++;
  } else {
    cart.push({ ...item, qty: 1 });
  }
  renderCart();
}

function renderCart() {
  const cartDiv = document.getElementById("cart");
  if (cart.length === 0) {
    cartDiv.innerHTML = "购物车是空的";
    return;
  }
  let total = 0;
  cartDiv.innerHTML = "<h3>购物车</h3>";
  cart.forEach(item => {
    total += item.price * item.qty;
    cartDiv.innerHTML += `${item.name} x ${item.qty} = RM ${(item.price * item.qty).toFixed(2)}<br>`;
  });
  cartDiv.innerHTML += `<strong>总价: RM ${total.toFixed(2)}</strong><br><br>`;
  cartDiv.innerHTML += `<button onclick="checkout()">提交订单</button>`;
}

function checkout() {
  const name = prompt("请输入您的姓名：");
  const phone = prompt("请输入电话：");
  const address = prompt("请输入送餐地址：");
  const payment = prompt("请选择付款方式：\n1 = 现金\n2 = Touch 'n Go\n3 = 银行转账");

  let paymentText = "现金付款";
  let paymentInfo = "请准备现金支付给送餐员。";

  if (payment === "2") {
    paymentText = "Touch 'n Go 电子钱包";
    paymentInfo = "请扫码以下二维码付款：\n（示意）\nTNG 钱包账号：012-3456789";
  } else if (payment === "3") {
    paymentText = "银行转账";
    paymentInfo = "请转账至：\n银行：Maybank\n户口：123456789012\n户口名：Ah Hui Kitchen";
  }

  alert(`谢谢您下单！\n姓名：${name}\n电话：${phone}\n地址：${address}\n\n付款方式：${paymentText}\n${paymentInfo}\n\n订单已记录。`);
  cart = [];
  renderCart();
}

window.onload = () => {
  renderMenu();
  renderCart();
};

  </script>
</head>
<body style="font-family: sans-serif; padding: 1em;">
  <h1>阿辉小厨 外卖平台</h1>
  <div id="menu"></div>
  <hr />
  <div id="cart"></div>
</body>
</html>
